<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>GeoData.jl · GeoData.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GeoData.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>GeoData.jl</a><ul class="internal"><li><a class="tocitem" href="#Dimensions"><span>Dimensions</span></a></li><li><a class="tocitem" href="#Array"><span>Array</span></a></li><li><a class="tocitem" href="#Stack"><span>Stack</span></a></li><li><a class="tocitem" href="#Series"><span>Series</span></a></li><li><a class="tocitem" href="#Metadata"><span>Metadata</span></a></li><li><a class="tocitem" href="#Helper-methods"><span>Helper methods</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>GeoData.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>GeoData.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rafaqz/GeoData.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="GeoData.jl"><a class="docs-heading-anchor" href="#GeoData.jl">GeoData.jl</a><a id="GeoData.jl-1"></a><a class="docs-heading-anchor-permalink" href="#GeoData.jl" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="GeoData" href="#GeoData"><code>GeoData</code></a> — <span class="docstring-category">Module</span></header><section><div><p><strong>GeoData</strong></p><p><a href="https://rafaqz.github.io/GeoData.jl/stable"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt/></a> <a href="https://rafaqz.github.io/GeoData.jl/dev"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt/></a> <a href="https://travis-ci.org/rafaqz/GeoData.jl"><img src="https://travis-ci.org/rafaqz/GeoData.jl.svg?branch=master" alt="Build Status"/></a> <a href="https://codecov.io/gh/rafaqz/GeoData.jl"><img src="https://codecov.io/gh/rafaqz/GeoData.jl/branch/master/graph/badge.svg" alt="Codecov"/></a></p><p>GeoData.jl defines common types and methods for accessing and working with spatial data in Julia, such as 2 or multidimensional raster arrays, and multiarray &quot;stacks&quot;, and &quot;series&quot; of files for either type.</p><p>It provides general types <code>GeoArray</code>, <code>GeoStack</code>, and <code>GeoSeries</code>, and source specific types for loading GDAL with <code>GDALarray</code>, NetCDF with <code>NCDarray</code> and <code>NCDstack</code> when ArchGDAL.jl and NCDatasets.jl are loaded, respectively. R grd files can be loaded natively using <code>GrdArray</code>. </p><p>GeoData.jl is useful both as a scripting tool, and as a library of standardised data manipulation for use in other geospatial data and modelling packages. It extends <a href="https://github.com/rafaqz/DimensionalData.jl">DimensionalData.jl</a> so that data can be indexed using named dimensions, which can also be used in most methods like <code>mean</code> and <code>reduce</code> where dimensions are required. Most behaviour is covered in the <a href="https://rafaqz.github.io/DimensionalData.jl/stable/">DimensionalData docs</a>.</p><p>When HDF5.jl is loaded, files from the soil moisture active passive (<a href="https://smap.jpl.nasa.gov/">SMAP</a>) dataset can be loaded using <code>SMAPstack</code> or <code>SMAPseries</code> to load whole directories. This is both useful for users of SMAP, and a demonstration of the potential to build standardised interfaces  for other custom spatial dataset formats like those used in SMAP.</p><p>Files can be written to disk in all formats using <code>write</code>.</p><p>Some helper methods for common manipulations are included:</p><ul><li><code>aggregate</code></li><li><code>disaggregate</code></li><li><code>boolmask</code></li><li><code>missingmask</code></li><li><code>replace_missing</code></li></ul><p>These will be expanded to include interpolation and other tools over time.</p><p><strong>This is a work in progress and the API will break occasionally</strong></p><p>Notably GeoData will shift to relying on <a href="https://github.com/meggart/DiskArrays.jl">DiskArrays.jl</a> for wrapping disk-based data sources when it fully supports GDAL and NetCDF. Currently this is handled internally. Broadcasting over disk base arrays like <code>NCDarray</code> will be incredibly slow, as chunk-based loading is not implemented. DiskArrays.jl will solve this, and other problems.</p><p>There are no also no guarantees on the accuracy of any of the included methods. If you are using this in critical applications, please do your own testing, or add additional tests to the GeoData.jl test suit to verify correctness.</p><p>Also note: writing directly to files with <code>setindex!</code> is not yet supported.  You must load to a <code>GeoArray</code>, make modifications and <code>write</code> a new file. </p><p><strong>Goals</strong></p><ul><li>Standardisation: data from multiple sources has similar or identical syntax and behaviour.</li><li>Easy, no-config plotting</li><li>Lazy loading: minimisation of memory requirements for large datasets</li><li>Accuracy: <code>Selector</code>s should select exact regions, and handle points both  and intervals. </li><li>Multi-layer, multi-file objects. <code>GeoStack</code> and <code>GeoSeries</code> facilitate simple operations over large datasets, with detail abstracted away from users and other packages.</li></ul><p><strong>Examples</strong></p><p>We&#39;ll load a file from disk, and do some manipulations and plotting.</p><p>Load GeoData, and NCDatasets, download file and load it to  an array. This netcdf file only has one layer, if it has more we  could use <code>NCDstack</code> instead.</p><pre><code class="language-julia">using GeoData, NCDatasets
url = &quot;https://www.unidata.ucar.edu/software/netcdf/examples/tos_O1_2001-2002.nc&quot;
filename = download(url, &quot;tos_O1_2001-2002.nc&quot;)
A = NCDarray(filename)</code></pre><p>Now plot every third month in the first year, just using the regular index:</p><pre><code class="language-julia">using Plots
A[Ti(1:3:12)] |&gt; plot</code></pre><p><img src="https://raw.githubusercontent.com/rafaqz/GeoData.jl/media/four_pane_map.png" alt="Global ocean surface temperatures"/></p><p>Now plot Australia in the first month of 2001.</p><pre><code class="language-julia">A[Ti(Contains(DateTime360Day(2001, 01, 17))), 
  Lat(Between(0, -50)), 
  Lon(Between(100, 160))] |&gt; plot</code></pre><p><img src="https://raw.githubusercontent.com/rafaqz/GeoData.jl/media/aus.png" alt="Australia regional ocean surface temperature"/></p><p>Now get the mean over the timespan, then save it to disk, and plot it :</p><pre><code class="language-julia">using Statistics
mean_tos = mean(A; dims=Ti)
write(&quot;mean.ncd, NCDarray, mean_tos))
plot(mean_tos; color=:viridis) </code></pre><p><img src="https://raw.githubusercontent.com/rafaqz/GeoData.jl/media/mean.png" alt="Mean temperatures"/></p><p>Or a plot transect of ocean surface temperature along the 20 degree latitude line:</p><pre><code class="language-julia">A[Lat(Contains(20)), Ti(1)] |&gt; plot</code></pre><p><img src="https://raw.githubusercontent.com/rafaqz/GeoData.jl/media/lat_20.png" alt="Temperatures at lattitude 20-21"/></p><p><strong>Works in progress</strong></p><ul><li>Standardised handling and conversion of spatial metadata between data formats</li><li>Handling complex projections: Affine transformation of dimensions to indices. AffineMaps will be stored as a wrapper dimension in <code>dims</code>.</li><li>Load and write NetCDF projection format</li><li>Integration with Vector/DataFrame spatial types and point/line/polygon data types. It should be possible to select polygons of data, and convert between linear datasets and array formats.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/GeoData.jl#L4-L138">source</a></section></article><h2 id="Dimensions"><a class="docs-heading-anchor" href="#Dimensions">Dimensions</a><a id="Dimensions-1"></a><a class="docs-heading-anchor-permalink" href="#Dimensions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="GeoData.Lat" href="#GeoData.Lat"><code>GeoData.Lat</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Lat &lt;: YDim &lt;: Dimension
Lat(val=:)</code></pre><p>Latitude <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Dimension"><code>Dimension</code></a>.</p><p><strong>Example:</strong></p><pre><code class="language-julia">vertdim = Lat(10:10:100)
# Or
val = A[Lat(1)]
# Or
mean(A; dims=Lat)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/96786e22ccabfdafd073122abb1fb69cea921e17/base/#L0-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.Lon" href="#GeoData.Lon"><code>GeoData.Lon</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Lon &lt;: XDim &lt;: Dimension
Lon(val=:)</code></pre><p>Longitude <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Dimension"><code>Dimension</code></a>.</p><p><strong>Example:</strong></p><pre><code class="language-julia">longdim = Lon(10:10:100)
# Or
val = A[Lon(1)]
# Or
mean(A; dims=Lon)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/96786e22ccabfdafd073122abb1fb69cea921e17/base/#L0-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.Vert" href="#GeoData.Vert"><code>GeoData.Vert</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Vert &lt;: ZDim &lt;: Dimension
Vert(val=:)</code></pre><p>Vertical <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Dimension"><code>Dimension</code></a>.</p><p><strong>Example:</strong></p><pre><code class="language-julia">vertdim = Vert(10:10:100)
# Or
val = A[Vert(1)]
# Or
mean(A; dims=Vert)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/96786e22ccabfdafd073122abb1fb69cea921e17/base/#L0-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.Band" href="#GeoData.Band"><code>GeoData.Band</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Band &lt;: Dimension
Band(val=:)</code></pre><p>Band <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Dimension"><code>Dimension</code></a> for multi-band rasters.</p><p><strong>Example:</strong></p><pre><code class="language-julia">banddim = Band(10:10:100)
# Or
val = A[Band(1)]
# Or
mean(A; dims=Band)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/96786e22ccabfdafd073122abb1fb69cea921e17/base/#L0-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.Projected" href="#GeoData.Projected"><code>GeoData.Projected</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Projected(order::Order, span, sampling, crs, usercrs)
Projected(; order=Ordered(), span=UnknownSpan(), sampling=Points(), crs, usercrs=nothing)</code></pre><p>An <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.AbstractSampled"><code>AbstractSampled</code></a> mode with projections attached.</p><p>Fields and behaviours are identical to <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Sampled"><code>Sampled</code></a>  with the addition of <code>crs</code> and <code>usercrs</code> fields.</p><p>If both <code>crs</code> and <code>usercrs</code> fields contain CRS data (in a <code>GeoFormat</code> wrapper  from GeoFormatTypes.jl) the selector inputs and plot axes will be converted  from and to the specified <code>usercrs</code> projection automatically. A common use case would be to pass <code>usercrs=EPSG(4326)</code> to the constructor when loading eg. a GDALarray:</p><pre><code class="language-julia">GDALarray(filename; usercrs=EPSG(4326))</code></pre><p>The underlying <code>crs</code> will be detected by GDAL.</p><p>If <code>usercrs</code> is not supplied (ie. <code>usercrs=nothing</code>), the base index will be  shown on plots, and selectors will need to use whatever format it is in.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/mode.jl#L3-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.Converted" href="#GeoData.Converted"><code>GeoData.Converted</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Converted(order::Order, span, sampling, crs, dimcrs)
Converted(; order=Ordered(), span=UnknownSpan(), sampling=Points(), crs, dimcrs)</code></pre><p>An <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.AbstractSampled"><code>AbstractSampled</code></a> mode with projections, where the dimension  has already been converted to another projection as a vector, usually <code>EPSG(4326)</code>.</p><p>Fields and behaviours are identical to <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Sampled"><code>Sampled</code></a> with the addition of <code>crs</code> and <code>dimcrs</code> fields.</p><p>The dimension will be indexed as for <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Sampled"><code>Sampled</code></a>, but to save in another format the underlying projection will be used.</p><pre><code class="language-julia">GDALarray(filename; usercrs=EPSG(4326))</code></pre><p>The underlying <code>crs</code> will be detected by GDAL.</p><p>If <code>usercrs</code> is not supplied (ie. <code>usercrs=nothing</code>), the base index will be  shown on plots, and selectors will need to use whatever format it is in.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/mode.jl#L47-L68">source</a></section></article><h2 id="Array"><a class="docs-heading-anchor" href="#Array">Array</a><a id="Array-1"></a><a class="docs-heading-anchor-permalink" href="#Array" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="GeoData.AbstractGeoArray" href="#GeoData.AbstractGeoArray"><code>GeoData.AbstractGeoArray</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>AbstractGeoArray</code> wraps an array (or location of an array) and metadata about its contents. It may be memory (<a href="#GeoData.GeoArray"><code>GeoArray</code></a>) or disk-backed (<a href="#GeoData.NCDarray"><code>NCDarray</code></a>, <a href="@ref"><code>GDAlarray</code></a>, <a href="#GeoData.GrdArray"><code>GrdArray</code></a>).</p><p><code>AbstractGeoArray</code>s inherit from <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.AbstractDimensionalArray"><code>AbstractDimensionalArray</code></a>  from DimensionalData.jl. They can be indexed as regular Julia arrays or with  DimensionalData.jl <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Dimension"><code>Dimension</code></a>s. They will plot as a heatmap in  Plots.jl with correct coordinates and labels, even after slicing with  <code>getindex</code> or <code>view</code>. <code>getindex</code> on a <code>AbstractGeoArray</code> will always return  a memory-backed <code>GeoArray</code>.</p><p>In addition to DimensionalArray behaviour,  these have <code>metadata</code> and <code>missingval</code> fields</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/array.jl#L2-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.MemGeoArray" href="#GeoData.MemGeoArray"><code>GeoData.MemGeoArray</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract supertype for all memory-backed GeoArrays where the data is an array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/array.jl#L101-L103">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.DiskGeoArray" href="#GeoData.DiskGeoArray"><code>GeoData.DiskGeoArray</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract supertype for all disk-backed GeoArrays. For these the data is lazyily loaded from disk.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/array.jl#L107-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GeoArray" href="#GeoData.GeoArray"><code>GeoData.GeoArray</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GeoArray(A::AbstractArray{T,N}, dims::Tuple;
         refdims=(), name=&quot;&quot;, metadata=nothing, missingval=missing)
GeoArray(A::AbstractGeoArray; [data=data(A), dims=dims(A), refdims=refdims(A),
         name=name(A), metadata=metadata(A), missingval=missingval(A)]) =</code></pre><p>A generic, memory-backed spatial array type. All <a href="#GeoData.AbstractGeoArray"><code>AbstractGeoArray</code></a> are converted to <code>GeoArray</code> when indexed or otherwise transformed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/array.jl#L146-L154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GDALarray" href="#GeoData.GDALarray"><code>GeoData.GDALarray</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GDALarray(filename; usercrs=nothing, name=&quot;&quot;, refdims=())</code></pre><p>Load a file lazily with gdal. GDALarray will be converted to GeoArray after indexing or other manipulations. <code>GeoArray(GDAlarray(filename))</code> will do this immediately.</p><p>If <code>usercrs</code> like <code>EPSG(4326)</code> is passed to the constructor, selectors like <code>Between</code> will use its projection, converting automatically to the underlying projection from GDAL. Plots will also display the axes using this projection.</p><p>Until DiskArrays.jl is used for this package, avoid broadcasting over <code>GDALarray</code>, convert to <code>GeoArray</code> first.</p><p><strong>Arguments</strong></p><ul><li><code>filename</code>: <code>String</code> pointing to a grd file. Extension is optional.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>name</code>: Name for the array.</li><li><code>refdims</code>: Add dimension position array was sliced from. Mostly used programatically.</li><li><code>usercrs</code>: CRS format used in Between, At etc and Plotting. Can be any CRS <code>GeoFormat</code> form GeoFormatTypes.jl, such as <code>WellKnownText</code> loading the array.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/gdal.jl#L36-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GrdArray" href="#GeoData.GrdArray"><code>GeoData.GrdArray</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GrdArray(filename::String; refdims=(), name=nothing, usercrs=nothing)</code></pre><p>An <a href="#GeoData.AbstractGeoArray"><code>AbstractGeoArray</code></a> that loads .grd files lazily from disk.</p><p><strong>Arguments</strong></p><ul><li><code>filename</code>: <code>String</code> pointing to a grd file. Extension is optional.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>name</code>: Name for the array. Will be loaded from <code>layername</code> if not supplied.</li><li><code>refdims</code>: Add dimension position array was sliced from. Mostly used programatically.</li><li><code>usercrs</code>: can be any CRS <code>GeoFormat</code> form GeoFormatTypes.jl, such as <code>WellKnownText</code> loading the array. Can save on disk load time for large files.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia">array = GrdArray(&quot;folder/file.grd&quot;; usercrs=EPSG(4326))
# Select Australia using 4326 coords, whatever the crs is underneath.
array[Lat(Between(-10, -43), Lon(113, 153))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/grd.jl#L118-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.NCDarray" href="#GeoData.NCDarray"><code>GeoData.NCDarray</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NCDarray(filename::AbstractString; name=nothing, refdims=(),
         dims=nothing, metadata=nothing, crs=EPSG(4326), dimcrs=EPSG(4326))</code></pre><p>Create an array from a path to a netcdf file. The first non-dimension layer of the file will be used as the array.</p><p>This is an incomplete implementation of the NetCDF standard. It will currently only handle simple files in lattitude/longitude format, or projected formats if you manually specify <code>crs</code> and <code>dimcrs</code>. How this is done may also change in future, including detecting and converting the native NetCDF  projection format.</p><p><strong>Arguments</strong></p><ul><li><code>filename</code>: <code>String</code> pointing to a netcdf file.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>name</code>: Name for the array. Will use array key if not supplied.</li><li><code>refdims</code>: Add dimension position array was sliced from. Mostly used programatically. loading the array. Can save on disk load time for large files.</li><li><code>crs</code>: defaults to lat/lon <code>EPSG(4326)</code>. If the underlying data is in a different  projection it will need to be set to allow <code>write</code> to a different file format.</li><li><code>dimcrs</code>: defaults to <code>EPSG(4326)</code>, as it matches <code>crs</code>. However, the underlying data may be  projected, with the index still in lat/lon or something else. In this case specify a  projection using any projection type from GeoFormatTypes.jl.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/ncdatasets.jl#L141-L166">source</a></section></article><h2 id="Stack"><a class="docs-heading-anchor" href="#Stack">Stack</a><a id="Stack-1"></a><a class="docs-heading-anchor-permalink" href="#Stack" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="GeoData.AbstractGeoStack" href="#GeoData.AbstractGeoStack"><code>GeoData.AbstractGeoStack</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Stack objects hold multiple raster array that share spatial metadata and bounds.</p><p>These are <code>NamedTuple</code>-like structures that may either contain <code>NamedTuple</code> of <code>AbstractGeoArray</code>, string paths that will load <code>AbstractGeoArray</code>, or a single path that points to as a file structured as a multi-layered stack, like NetCDF.</p><p>The primary purpose of  is that use and syntax is identical for all cases, abstracting away data source and simplifying access code. <code>getindex</code> on any <code>AbstractGeoStack</code> may return a memory backed standard <code>GeoArray</code>, or a disk base AbstractGeoArray. <code>geoarray[:somelayer] |&gt; plot</code> plots the layers array, while <code>geoarray[:somelayer, Lon(1:100), Band(2)] |&gt; plot</code> will plot the subsetted array directly from disk, without loading the whole array.</p><p><code>getindex</code> or <code>view</code> on a GeoStack returns another stack with the method applied to all the arrays in the stack.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L4-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.MemGeoStack" href="#GeoData.MemGeoStack"><code>GeoData.MemGeoStack</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An <a href="#GeoData.AbstractGeoStack"><code>AbstractGeoStack</code></a> stored in memory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L89-L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GeoStack" href="#GeoData.GeoStack"><code>GeoData.GeoStack</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Concrete <code>MemGeoStack</code> implementation. Holds concrete <a href="#GeoData.GeoArray"><code>GeoArray</code></a> layers in memory.</p><ul><li><code>data</code>: A <code>NamedTuple</code> of <code>GeoArray</code>.</li><li><code>window</code>: A <code>Tuple</code> of Dimensions/Selectors/Indices that will be applied to the contained           arrays when they are accessed.</li><li><code>refdims</code>: reference dimensions from earlier subsetting.</li><li><code>metadata</code>: Any metadata object.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L207-L215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.DiskGeoStack" href="#GeoData.DiskGeoStack"><code>GeoData.DiskGeoStack</code></a> — <span class="docstring-category">Type</span></header><section><div><p><a href="#GeoData.AbstractGeoStack"><code>AbstractGeoStack</code></a>s stored on disk.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L121-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.DiskStack" href="#GeoData.DiskStack"><code>GeoData.DiskStack</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">DiskStack(filename::NamedTuple; window=())</code></pre><p>Load a stack of files lazily from disk.</p><p><strong>Arguments</strong></p><ul><li><code>filename</code>: a NamedTuple of <code>String</code> filenames.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>window</code>: can be a tuple of Dimensions, selectors or regular indices.</li><li><code>childtype</code>: the type of the child data. eg. <code>GDALarray</code>.</li><li><code>kwargs</code>: keyword arguments to pass to the child constructor</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L256-L268">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GDALstack" href="#GeoData.GDALstack"><code>GeoData.GDALstack</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">GDALstack(filenames; kwargs...)</code></pre><p>Convenience method to create a DiskStack  of <a href="#GeoData.GDALarray"><code>GDALarray</code></a> from <code>filenames</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/gdal.jl#L121-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GrdStack" href="#GeoData.GrdStack"><code>GeoData.GrdStack</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">GrdStack(filenames; kwargs...)</code></pre><p>Convenience method to create a DiskStack of <a href="#GeoData.GrdArray"><code>GrdArray</code></a> from <code>filenames</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/grd.jl#L247-L251">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.NCDstack" href="#GeoData.NCDstack"><code>GeoData.NCDstack</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NCDstack(filenames; refdims=(), window=(), metadata=nothing)</code></pre><p>A lazy <a href="#GeoData.DiskStack"><code>DiskStack</code></a> that loads multiple single-layer netcdf files or a single multi-layer file, using NCDatasets.jl.</p><p><strong>Arguments</strong></p><ul><li><code>filename</code>: <code>Tuple</code> or <code>Vector</code> of <code>String</code> paths to netcdf files,  or a single <code>String</code> path to a netcdf file.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>refdims</code>: Add dimension position array was sliced from. Mostly used programatically.</li><li><code>window</code>: can be a tuple of Dimensions, selectors or regular indices.</li><li><code>metadata</code>: Add additional metadata as a <code>Dict</code>.</li><li><code>keys</code>: Keys for the layer in each file when filename is a <code>Vector</code>.</li><li><code>childkwargs</code>: A <code>NamedTuple</code> of keyword arguments to pass to the child object constructor.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia">stack = NCDstack(filename; window=(Lat(Between(20, 40),))
stack[:soil_temperature]
# Or
multifile_stack = NCDstack([path1, path2, path3, path4])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/ncdatasets.jl#L238-L262">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.SMAPstack" href="#GeoData.SMAPstack"><code>GeoData.SMAPstack</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SMAPstack(filename::String; window=())</code></pre><p><code>AbstractGeoStack</code> for <a href="https://smap.jpl.nasa.gov/">SMAP</a> datasets.</p><p>The simplicity of the format means <code>dims</code> and <code>metadata</code> are the same for all stack layers, so we store them as stack fields. <code>SMAPstack</code> should also serve as an example of defining a custom source for HDF5 backed geospatial data.</p><p><strong>Keyword arguments</strong></p><ul><li><code>window</code>: Like <code>view</code> but lazy, for disk based data. Can be a tuple of Dimensions, selectors or regular indices. These will be applied when the data is loaded or indexed into.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/smap.jl#L38-L50">source</a></section></article><h2 id="Series"><a class="docs-heading-anchor" href="#Series">Series</a><a id="Series-1"></a><a class="docs-heading-anchor-permalink" href="#Series" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="GeoData.AbstractGeoSeries" href="#GeoData.AbstractGeoSeries"><code>GeoData.AbstractGeoSeries</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>AbstractGeoSeries</code> are a high-level <code>DimensionalArray</code> that hold stacks, arrays,  or the paths they can be loaded from. <code>GeoSeries</code> are indexed with dimensions as with a <code>AbstractGeoArray</code>. This is useful when you have multiple files containing rasters or stacks of rasters spread over dimensions like time and elevation. As much as possible, implementations should facilitate loading entire directories and detecting the dimensions from metadata.</p><p>This allows syntax like:</p><pre><code class="language-julia">series[Time(Near(DateTime(2001, 1))][:temp][Lat(Between(70, 150)), Lon(Between(-20,20))] |&gt; plot`</code></pre><p><code>GeoSeries</code> is the only concrete implementation. It includes a <code>chiltype</code> field  indicating the constructor used then loading stacks or arrays of any type from disk, and holds a <code>kwargs</code> <code>NamedTuple</code> that will be splatted into to the keyword arguments of the <code>childtype</code> constructor. This gives control over the construction of lazy-loaded  files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/series.jl#L1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GeoSeries" href="#GeoData.GeoSeries"><code>GeoData.GeoSeries</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GeoSeries(data::Array{T}, dims; refdims=(), childtype=DD.basetypeof(T), 
          childkwargs=()) where T&lt;:Union{&lt;:AbstractGeoStack,&lt;:AbstractGeoArray}
GeoSeries(data, dims; refdims=(), childtype, childkwargs)</code></pre><p>Concrete implementation of <a href="#GeoData.AbstractGeoSeries"><code>AbstractGeoSeries</code></a>. Series hold paths to array or stack files, along some dimension(s).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/series.jl#L41-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.SMAPseries" href="#GeoData.SMAPseries"><code>GeoData.SMAPseries</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">SMAPseries(dir::AbstractString; kwargs...) =
    SMAPseries(joinpath.(dir, filter_ext(dir, &quot;.h5&quot;)); kwargs...)
SMAPseries(filepaths::Vector{&lt;:AbstractString}, dims=nothing; kwargs...) = begin</code></pre><p>Series loader for SMAP folders (files in the time dimension). Returns a <a href="#GeoData.GeoSeries"><code>GeoSeries</code></a>.</p><p><code>path</code> can be a <code>String</code> path to a directory of SMAP files, or a vector of <code>String</code> paths for specific files. <code>kwargs</code> are passed to the constructor for <code>GeoSeries</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/smap.jl#L116-L127">source</a></section></article><h2 id="Metadata"><a class="docs-heading-anchor" href="#Metadata">Metadata</a><a id="Metadata-1"></a><a class="docs-heading-anchor-permalink" href="#Metadata" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="GeoData.Metadata" href="#GeoData.Metadata"><code>GeoData.Metadata</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type for all metadata wrappers.</p><p>These allow tracking the contents and origin of metadata.  This can facilitate conversion between metadata types (for saving  a file to a differenet format) or simply saving data back to the  same file type with identical metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/metadata.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.DimMetadata" href="#GeoData.DimMetadata"><code>GeoData.DimMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Metadata wrappers to be attached to <code>Dimension</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/metadata.jl#L26-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.ArrayMetadata" href="#GeoData.ArrayMetadata"><code>GeoData.ArrayMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Metadata wrappers to be attached to <code>AbstractGeoArrays</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/metadata.jl#L31-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.StackMetadata" href="#GeoData.StackMetadata"><code>GeoData.StackMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Metadata wrappers to be attached to <code>AbstractGeoStack</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/metadata.jl#L36-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GrdDimMetadata" href="#GeoData.GrdDimMetadata"><code>GeoData.GrdDimMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><p><a href="#GeoData.Metadata"><code>Metadata</code></a> wrapper for <code>GrdArray</code> dimension metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/grd.jl#L13-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GrdArrayMetadata" href="#GeoData.GrdArrayMetadata"><code>GeoData.GrdArrayMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><p><a href="#GeoData.Metadata"><code>Metadata</code></a> wrapper for <code>GrdArray</code> metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/grd.jl#L20-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GDALdimMetadata" href="#GeoData.GDALdimMetadata"><code>GeoData.GDALdimMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GDALmetadata(val::Dict)</code></pre><p><a href="#GeoData.Metadata"><code>Metadata</code></a> wrapper for <code>GDALarray</code> dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/gdal.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.GDALarrayMetadata" href="#GeoData.GDALarrayMetadata"><code>GeoData.GDALarrayMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GDALarrayMetadata(val::Dict)</code></pre><p><a href="#GeoData.Metadata"><code>Metadata</code></a> wrapper for <code>GDALarray</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/gdal.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.NCDdimMetadata" href="#GeoData.NCDdimMetadata"><code>GeoData.NCDdimMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NCDdimMetadata(val::Dict)</code></pre><p><a href="#GeoData.Metadata"><code>Metadata</code></a> wrapper for <a href="#GeoData.NCDarray"><code>NCDarray</code></a> dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/ncdatasets.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.NCDarrayMetadata" href="#GeoData.NCDarrayMetadata"><code>GeoData.NCDarrayMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NCDarrayMetadata(val::Dict)</code></pre><p><a href="#GeoData.Metadata"><code>Metadata</code></a> wrapper for <a href="#GeoData.NCDarray"><code>NCDarray</code></a> metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/ncdatasets.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.NCDstackMetadata" href="#GeoData.NCDstackMetadata"><code>GeoData.NCDstackMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NCDstackMetadata(val::Dict)</code></pre><p><a href="#GeoData.Metadata"><code>Metadata</code></a> wrapper for <a href="#GeoData.NCDarray"><code>NCDarray</code></a> metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/ncdatasets.jl#L23-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.SMAPdimMetadata" href="#GeoData.SMAPdimMetadata"><code>GeoData.SMAPdimMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SMAPdimMetadata(val)</code></pre><p><a href="#GeoData.DimMetadata"><code>DimMetadata</code></a> wrapper for <code>SMAParray</code> dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/smap.jl#L9-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.SMAParrayMetadata" href="#GeoData.SMAParrayMetadata"><code>GeoData.SMAParrayMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SMAParrayMetadata(val)</code></pre><p><a href="#GeoData.ArrayMetadata"><code>ArrayMetadata</code></a> wrapper for <code>SMAParray</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/smap.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.SMAPstackMetadata" href="#GeoData.SMAPstackMetadata"><code>GeoData.SMAPstackMetadata</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SMAPdimMetadata(val)</code></pre><p><a href="#GeoData.StackMetadata"><code>StackMetadata</code></a> wrapper for <code>SMAPstack</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/smap.jl#L27-L31">source</a></section></article><h2 id="Helper-methods"><a class="docs-heading-anchor" href="#Helper-methods">Helper methods</a><a id="Helper-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Helper-methods" title="Permalink"></a></h2><p>See <a href="https://rafaqz.github.io/DimensionalData.jl/stable/">DimensionalData.jl docs</a> for the majority of types and methods that can be used in GeoData.jl.  GeoData.jl is a direct extension of DimensionalData.jl.</p><p>These methods are specific to GeoData.jl:</p><article class="docstring"><header><a class="docstring-binding" id="Base.write" href="#Base.write"><code>Base.write</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Base.write(filename::AbstractString, T::Type{&lt;:AbstractGeoArray}, s::AbstractGeoStack)</code></pre><p>Save all layers of an <code>AbstractGeoStack</code> to separate files, using the backend determined by <code>T</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia">write(filename, GDALarray, A)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L67-L78">source</a></section><section><div><pre><code class="language-none">Base.write(filename::AbstractString, ::Type{GrdArray}, s::AbstractGeoArray)</code></pre><p>Write a <a href="#GeoData.GrdArray"><code>GrdArray</code></a> to a .grd file, with a .gri header file. The extension of <code>filename</code> will be ignored.</p><p>Currently the <code>metadata</code> field is lost on <code>write</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/grd.jl#L172-L179">source</a></section><section><div><pre><code class="language-none">Base.write(filename::AbstractString, ::Type{GDALarray}, A::AbstractGeoArray;
           driver=&quot;GTiff&quot;, compress=&quot;DEFLATE&quot;, tiled=true)</code></pre><p>Write a <a href="#GeoData.GDALarray"><code>GDALarray</code></a> to file, <code>.tiff</code> by default, but other GDAL drivers also work.</p><p>GDAL flags <code>driver</code>, <code>compress</code> and <code>tiled</code> can be passed in as keyword arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/gdal.jl#L84-L91">source</a></section><section><div><pre><code class="language-none">Base.write(filename::AbstractString, ::Type{NCDarray}, s::AbstractGeoArray)</code></pre><p>Write an NCDarray to a netcdf file using NCDatasets.jl</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/ncdatasets.jl#L214-L218">source</a></section><section><div><pre><code class="language-none">Base.write(filename::AbstractString, ::Type{NCDstack}, s::AbstractGeoStack)</code></pre><p>Write an NCDstack to a single netcdf file, using NCDatasets.jl.</p><p>Currently <code>Dimension</code> metadata is not handled, and array metadata from other array types is ignored.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/sources/ncdatasets.jl#L307-L314">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.cat" href="#Base.cat"><code>Base.cat</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Base.cat(stacks::AbstractGeoStack...; [keys=keys(stacks[1])], dims)</code></pre><p>Concatenate all or a subset of layers for all passed in stacks.</p><p><strong>Example</strong></p><pre><code class="language-julia">cat(stacks...; keys=(:sea_surface_temp, :humidity), dims)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L315-L324">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.copy!" href="#Base.copy!"><code>Base.copy!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Base.copy!(dst::AbstractGeoStack, src::AbstractGeoStack, [keys=keys(dst)])</code></pre><p>Copy all or a subset of layers from one stack to another.</p><p><strong>Example</strong></p><pre><code class="language-julia">copy!(dst::AbstractGeoStack, src::AbstractGeoStack, keys=(:sea_surface_temp, :humidity))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L288-L297">source</a></section><section><div><pre><code class="language-none">Base.copy!(dst::AbstractArray, src::DiskGeoStack, key::Key)</code></pre><p>Copy the stack layer <code>key</code> to <code>dst</code>, which can be any <code>AbstractArray</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L307-L311">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.replace_missing" href="#GeoData.replace_missing"><code>GeoData.replace_missing</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">replace_missing(a::AbstractGeoArray, newmissing)</code></pre><p>Replace missing values in the array with a new missing value, also updating the <code>missingval</code> field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/methods.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.boolmask" href="#GeoData.boolmask"><code>GeoData.boolmask</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">boolmask(A::AbstractArray, [missingval])</code></pre><p>Create a mask array of <code>Bool</code> values, from any AbstractArray. For <code>AbstractGeoArray</code>  the default <code>missingval</code> is <code>missingval(A)</code>, for all other <code>AbstractArray</code>s  it is <code>missing</code>.</p><p>The array returned from calling <code>boolmask</code> on a <code>AbstractGeoArray</code> is a  <a href="#GeoData.GeoArray"><code>GeoArray</code></a> with the same size and fields as the oridingl array</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/methods.jl#L18-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.missingmask" href="#GeoData.missingmask"><code>GeoData.missingmask</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">missingmask(A::AbstractArray, [missingval])</code></pre><p>Create a mask array of <code>missing</code> or <code>true</code> values, from any AbstractArray.  For <code>AbstractGeoArray</code> the default <code>missingval</code> is <code>missingval(A)</code>,  for all other <code>AbstractArray</code>s it is <code>missing</code>.</p><p>The array returned from calling <code>boolmask</code> on a <code>AbstractGeoArray</code> is a  <a href="#GeoData.GeoArray"><code>GeoArray</code></a> with the same size and fields as the oridingl array</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/methods.jl#L36-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.convertmode" href="#GeoData.convertmode"><code>GeoData.convertmode</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">convertmode(dstmode::Type{&lt;:IndexMode}, x)</code></pre><p>Convert the dimension mode between <code>Projected</code> and <code>Converted</code>. Other dimension modes pass through unchanged.</p><p>This is used to e.g. save a netcdf file to GeoTiff.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/mode.jl#L109-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.reproject" href="#GeoData.reproject"><code>GeoData.reproject</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>reproject</code> uses ArchGDAL.reproject, but implemented for a reprojecting  a single dimension at a time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/reproject.jl#L20-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.aggregate" href="#GeoData.aggregate"><code>GeoData.aggregate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">aggregate(method, object, scale)</code></pre><p>Aggregate array, or all arrays in a stack or series, by some scale.</p><p><strong>Arguments</strong></p><ul><li><code>method</code>: a function such as <code>mean</code> or <code>sum</code> that can combine the value of multiple cells to generate the aggregated cell, or a <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Locus"><code>Locus</code></a> like <code>Start()</code> or <code>Center()</code> that species where to sample from in the interval.</li><li><code>object</code>: Object to aggregate, like <code>AbstractGeoSeries</code>, <code>AbstractStack</code>,  <code>AbstractGeoArray</code>, <code>Dimension</code></li><li><code>scale</code>: the aggregation factor, which can be an integer, a tuple of integers for each dimension, or any <code>Dimension</code>, <code>Selector</code> or <code>Int</code> combination you can usually use in <code>getindex</code>. Using a <code>Selector</code> will determine the scale by the distance from the start of the index.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/aggregate.jl#L5-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.aggregate!" href="#GeoData.aggregate!"><code>GeoData.aggregate!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">aggregate!(method, dst::AbstractDimensionalArray, src::AbstractDimensionalArray, scale)</code></pre><p>Aggregate array <code>src</code> to array <code>dst</code> by <code>scale</code>, using <code>method</code>.</p><p><strong>Arguments</strong></p><ul><li><code>method</code>: a function such as <code>mean</code> or <code>sum</code> that can combine the value of multiple cells to generate the aggregated cell, or a <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Locus"><code>Locus</code></a> like <code>Start()</code> or <code>Center()</code> that species where to sample from in the interval.</li><li><code>scale</code>: the aggregation factor, which can be an integer, a tuple of integers for each dimension, or any <code>Dimension</code>, <code>Selector</code> or <code>Int</code> combination you can usually use in <code>getindex</code>. Using a <code>Selector</code> will determine the scale by the distance from the start of the index in the <code>src</code> array.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/aggregate.jl#L107-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.disaggregate" href="#GeoData.disaggregate"><code>GeoData.disaggregate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">disaggregate(method, object, scale)</code></pre><p>Disagregate array, or all arrays in a stack or series, by some scale.</p><p><strong>Arguments</strong></p><ul><li><code>method</code>: a function such as <code>mean</code> or <code>sum</code> that can combine the value of multiple cells to generate the aggregated cell, or a <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Locus"><code>Locus</code></a> like <code>Start()</code> or <code>Center()</code> that species where to sample from in the interval.</li><li><code>object</code>: Object to aggregate, like <code>AbstractGeoSeries</code>, <code>AbstractStack</code>,  <code>AbstractGeoArray</code>, <code>Dimension</code></li><li><code>scale</code>: the aggregation factor, which can be an integer, a tuple of integers for each dimension, or any <code>Dimension</code>, <code>Selector</code> or <code>Int</code> combination you can usually use in <code>getindex</code>. Using a <code>Selector</code> will determine the scale by the distance from the start of the index.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/aggregate.jl#L164-L180">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.disaggregate!" href="#GeoData.disaggregate!"><code>GeoData.disaggregate!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">disaggregate!(method, dst::AbstractDimensionalArray, src::AbstractDimensionalArray, scale)</code></pre><p>Disagregate array <code>src</code> to array <code>dst</code> by some scale, using <code>method</code>.</p><ul><li><code>method</code>: a function such as <code>mean</code> or <code>sum</code> that can combine the value of multiple cells to generate the aggregated cell, or a <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Locus"><code>Locus</code></a> like <code>Start()</code> or <code>Center()</code> that species where to sample from in the interval.</li><li><code>scale</code>: the aggregation factor, which can be an integer, a tuple of integers for each dimension, or any <code>Dimension</code>, <code>Selector</code> or <code>Int</code> combination you can usually use in <code>getindex</code>. Using a <code>Selector</code> will determine the scale by the distance from the start of the index in the <code>src</code> array.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/aggregate.jl#L262-L274">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.alloc_ag" href="#GeoData.alloc_ag"><code>GeoData.alloc_ag</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">alloc_ag(method, A::AbstractDimensionalArray, scale)</code></pre><p>Allocate an array of the correct size to aggregate <code>A</code> by <code>scale</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/aggregate.jl#L143-L147">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.alloc_disag" href="#GeoData.alloc_disag"><code>GeoData.alloc_disag</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">alloc_ag(method, A::AbstractDimensionalArray, scale)</code></pre><p>Allocate an array of the correct size to disaggregate <code>A</code> by <code>scale</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/aggregate.jl#L285-L289">source</a></section></article><p>Field access:</p><article class="docstring"><header><a class="docstring-binding" id="GeoData.missingval" href="#GeoData.missingval"><code>GeoData.missingval</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">missingval(x)</code></pre><p>Returns the value representing missing data in the dataset</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/array.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.crs" href="#GeoData.crs"><code>GeoData.crs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">crs(x)</code></pre><p>Get the crs projection of a dim or for the <code>Lat</code>/<code>Lon</code> dims of an array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/array.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.usercrs" href="#GeoData.usercrs"><code>GeoData.usercrs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">usercrs(x)</code></pre><p>Get the user facing crs projection of a <a href="#GeoData.Projected"><code>Projected</code></a> mode  dim or for the <code>Lat</code>/<code>Lon</code> dims of an array.</p><p>This is used to convert <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Selector"><code>Selector</code></a> values form the user defined  projection to the underlying projection, and to show plot axes in the user projection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/array.jl#L50-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.dimcrs" href="#GeoData.dimcrs"><code>GeoData.dimcrs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dimcrs(x)</code></pre><p>Get the index crs projection of a <a href="#GeoData.Converted"><code>Converted</code></a> mode dim or  for the <code>Lat</code>/<code>Lon</code> dims of an array.</p><p>This is used for NetCDF where the underlying projection of  the data may not be what is contained in the vector index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/array.jl#L70-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.userbounds" href="#GeoData.userbounds"><code>GeoData.userbounds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">userbounds(x)</code></pre><p>Get the bounds converted to the <code>usercrs</code> value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/reproject.jl#L56-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.userval" href="#GeoData.userval"><code>GeoData.userval</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">userval(x)</code></pre><p>Get the index value of a dimension converted to the <code>usercrs</code> value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/reproject.jl#L69-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoData.filename" href="#GeoData.filename"><code>GeoData.filename</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">filename(s::DiskGeoStack)</code></pre><p>Return the filename field of a <code>DiskGeoStack</code>. This may be a <code>Vector</code> of <code>String</code>, or a <code>String</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L134-L139">source</a></section><section><div><pre><code class="language-none">filename(s::DiskGeoStack, key)</code></pre><p>Return the filename field of a <code>DiskGeoStack</code> for a given key.</p><p>This will always be a single string. However, in some cases all keys may have the same filename.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rafaqz/GeoData.jl/blob/6a5c2495baf6301486c33afbf0839621f52955b0/src/stack.jl#L141-L148">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 14 August 2020 08:57">Friday 14 August 2020</span>. Using Julia version 1.5.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
